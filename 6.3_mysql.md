# 6.3. MySQL
===========

# Задание №1

- Используя docker поднимите инстанс MySQL (версию 8). Данные БД сохраните в volume.

![Снимок экрана от 2022-06-26 12-15-19](https://user-images.githubusercontent.com/93032289/175807951-a9d872e4-98a6-45d3-a1ae-2009fb0b6b2a.png)

- Изучите бэкап БД и восстановитесь из него.

![Снимок экрана от 2022-06-26 12-55-09](https://user-images.githubusercontent.com/93032289/175808926-4e3f7824-cb5e-4ba8-84eb-db221e5c4ad4.png)

- Перейдите в управляющую консоль mysql внутри контейнера. Используя команду \h получите список управляющих команд.

![Снимок экрана от 2022-06-26 13-00-04](https://user-images.githubusercontent.com/93032289/175809049-d8a04789-ea4a-43e2-8e76-4de005d1a1c8.png)

- Найдите команду для выдачи статуса БД и приведите в ответе из ее вывода версию сервера БД. 
- Подключитесь к восстановленной БД и получите список таблиц из этой БД.
- Приведите в ответе количество записей с price > 300.

![Снимок экрана от 2022-06-26 13-08-02](https://user-images.githubusercontent.com/93032289/175809348-d12882f1-ef74-4d3d-ab6b-98129cf23848.png)

# Задание №2

- Создайте пользователя test в БД c паролем test-pass, используя:

   - плагин авторизации mysql_native_password
   - срок истечения пароля - 180 дней
   - количество попыток авторизации - 3
   - максимальное количество запросов в час - 100
   - аттрибуты пользователя:
         Фамилия "Pretty"
         Имя "James"
         
- Предоставьте привелегии пользователю test на операции SELECT базы test_db.
- Используя таблицу INFORMATION_SCHEMA.USER_ATTRIBUTES получите данные по пользователю test и приведите в ответе к задаче.

![Снимок экрана от 2022-06-26 13-25-15](https://user-images.githubusercontent.com/93032289/175809883-01b8d1a5-5aa2-47a3-b360-cc385230bdfd.png)

# Задание №3

Установите профилирование SET profiling = 1. Изучите вывод профилирования команд SHOW PROFILES;.

Исследуйте, какой engine используется в таблице БД test_db и приведите в ответе.

Измените engine и приведите время выполнения и запрос на изменения из профайлера в ответе:

   - на MyISAM
   - на InnoDB

![Снимок экрана от 2022-06-26 13-41-05](https://user-images.githubusercontent.com/93032289/175810497-a2a719e3-5dbd-4113-8de6-c3f55ccf3f4d.png)

# Задание №4

Изучите файл my.cnf в директории /etc/mysql.

Измените его согласно ТЗ (движок InnoDB):

   - Скорость IO важнее сохранности данных
   - Нужна компрессия таблиц для экономии места на диске
   - Размер буффера с незакомиченными транзакциями 1 Мб
   - Буффер кеширования 30% от ОЗУ
   - Размер файла логов операций 100 Мб



